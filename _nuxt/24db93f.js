(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{492:function(t,e,r){"use strict";r.r(e);r(52);var n=r(145),o={props:{products:Array},mixins:[n.a],computed:{totalAmount:function(){var t=0;return this.products.map((function(e){t+=e.price*e.quantity})),t},totalProduct:function(){return this.products.length}}},l=r(27),c=r(30),d=r.n(c),v=r(128),_=r(461),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",{staticClass:"font-weight-bold"},[r("tr",[r("th",{staticClass:"text-left text-subtitle-2 font-weight-black font-weight-bold"},[t._v("Tên Sản Phẩm")]),t._v(" "),r("th",{staticClass:"text-left text-subtitle-2 font-weight-black font-weight-bold"},[t._v("Số Lượng")]),t._v(" "),r("th",{staticClass:"text-left text-subtitle-2 font-weight-black font-weight-bold"},[t._v("Dơn Vị")]),t._v(" "),r("th",{staticClass:"text-left text-subtitle-2 font-weight-black font-weight-bold"},[t._v("Đơn Giá")]),t._v(" "),r("th",{staticClass:"text-left text-subtitle-2 font-weight-black font-weight-bold"},[t._v("Thành Tiền")])])]),t._v(" "),r("tbody",[t._l(t.products,(function(e){return r("tr",{key:e.path},[r("td",[t._v(t._s(e.title))]),t._v(" "),r("td",[r("v-btn",{attrs:{small:"",text:"",fab:""}},[t._v(" "+t._s(e.quantity))])],1),t._v(" "),r("td",[t._v(t._s(e.unit))]),t._v(" "),r("td",[t._v(t._s(t.formatPrice(e.price)))]),t._v(" "),r("td",[r("strong",[t._v(t._s(t.formatPrice(e.price*e.quantity)))])])])})),t._v(" "),r("tr",[r("td"),t._v(" "),r("td",{staticClass:"text-right font-weight-bold text-subtitle-1",attrs:{colspan:"3"}},[t._v("Tổng tiền")]),t._v(" "),r("td",[r("strong",[t._v(t._s(t.formatPrice(t.totalAmount)))])])])],2)]},proxy:!0}])})}),[],!1,null,"34b33892",null);e.default=component.exports;d()(component,{VBtn:v.a,VSimpleTable:_.a})},564:function(t,e,r){"use strict";r.r(e);r(8),r(7),r(6),r(142),r(12),r(13),r(10),r(9);var n=r(1),o=r(145);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={components:{OrderDetail:r(492).default},mixins:[o.a],data:function(){return{orders:[],selectedOrder:null,headers:[{text:"Mã Đơn",align:"start",sortable:!1,value:"id"},{text:"Người đặt",value:"buyer.name"},{text:"Tình Trạng",value:"status"},{text:"Ngày Đặt",value:"createAt"},{text:"Tổng Sản Phẩm",value:"products.length"},{text:"Tổng tiền",value:"totalAmount"}]}},mounted:function(){var t=this;this.$fireStore.collection("orders").get().then((function(e){e.forEach((function(e){var r=e.data().products.reduce((function(t,e){return t+e.price*e.quantity}),0);t.orders.push(c(c({},e.data()),{},{id:e.id,totalAmount:r,actions:[]}))}))}))},methods:{showDetail:function(t){console.log(t),this.selectedOrder=t}}},v=r(27),_=r(30),f=r.n(_),h=r(471),m=r(128),y=r(203),x=r(51),O=r(497),w=r(486),C=r(478),j=r(561),P=r(130),V=r(176),k=r(487),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{staticClass:"col-xs-12 col-md-12 col-lg-8"},[r("v-btn",{staticClass:"rounded-0 pl-0",attrs:{color:"secondary",text:""}},[t._v(" Tất cả đơn hàng")]),t._v(" "),r("t3-line",{attrs:{color:"primary",value:0}}),t._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.orders,"sort-by":["status","createAt"],"sort-desc":[!1,!0],"item-class":"abc","multi-sort":""},on:{"click:row":t.showDetail},scopedSlots:t._u([{key:"item.totalAmount",fn:function(e){var r=e.item;return[t._v("\n          "+t._s(t.formatPrice(r.totalAmount))+"\n        ")]}},{key:"item.status",fn:function(e){return["submitted"===e.item.status?r("v-chip",{staticClass:"mt-0 mb-0",attrs:{small:"",dense:"",color:"secondary",elevation:"0"}},[t._v("Chưa xử lý")]):t._e()]}}])})],1),t._v(" "),t.selectedOrder?r("v-col",{staticClass:"col-xs-12 col-md-12 col-lg-4"},[r("v-btn",{staticClass:"rounded-0 pl-0",attrs:{color:"secondary",text:""}},[t._v(" Chi tiết đơn # "+t._s(t.selectedOrder.id))]),t._v(" "),r("t3-line",{attrs:{color:"primary",value:0}}),t._v(" "),r("v-card",[r("order-detail",{attrs:{products:t.selectedOrder.products}})],1),t._v(" "),r("v-btn",{staticClass:"rounded-0 pl-0",attrs:{color:"secondary",text:""}},[t._v(" Người mua")]),t._v(" "),r("t3-line",{attrs:{color:"primary",value:0}}),t._v(" "),r("v-card",[r("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg",height:"100px",width:"100%"}}),t._v(" "),r("v-card-title",[t._v("\n          "+t._s(t.selectedOrder.buyer.name)+"\n        ")]),t._v(" "),r("v-card-subtitle",[r("div",[r("v-icon",[t._v("mdi-phone")]),t._v(" Số điện Thoại: "),r("strong",[t._v(t._s(t.selectedOrder.buyer.phone))])],1),t._v(" "),r("div",[r("v-icon",[t._v("mdi-motorbike")]),t._v(" Địa chỉ giao hàng: "),r("br"),r("strong",[t._v(t._s(t.selectedOrder.buyer.address))])],1)])],1),t._v(" "),r("v-btn",{staticClass:"rounded-0 pl-0",attrs:{color:"secondary",text:""}},[t._v(" Lưu ý Đơn Hàng")]),t._v(" "),r("t3-line",{attrs:{color:"primary",value:0}}),t._v(" "),r("v-alert",{attrs:{type:"success",outlined:""}},[t._v("\n        "+t._s(t.selectedOrder.note||"Không có lưu ý gì từ người mua")+"\n      ")])],1):t._e()],1)],1)}),[],!1,null,"ba9b5914",null);e.default=component.exports;f()(component,{OrderDetail:r(492).default}),f()(component,{VAlert:h.a,VBtn:m.a,VCard:y.a,VCardSubtitle:x.b,VCardTitle:x.d,VChip:O.a,VCol:w.a,VContainer:C.a,VDataTable:j.a,VIcon:P.a,VImg:V.a,VRow:k.a})}}]);